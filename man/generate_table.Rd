\name{generate_table}
\alias{generate_table}
\title{Generate a Formatted Summary Table from Summary Statistics}

\description{
The `generate_table` function creates a formatted table from the summary statistics generated by the \code{generate_summary} function. It organizes the data in a structured manner, ensuring a clear and concise presentation of categorical and numeric variables. The function outputs a dataframe with columns for variable names, counts, and percentages, making it suitable for descriptive reporting.
}

\usage{
generate_table(summary_results)
}

\arguments{
  \item{summary_results}{A list of summary tables generated by the \code{generate_summary} function. Each element in the list should represent a summary table for a categorical or numeric variable, including counts and percentages for categorical variables and mean and standard deviation for numeric variables.}
}

\details{
The `generate_table` function starts by initializing an empty vector, \code{table_rows}, to store the rows of the output table. It then defines a custom order for the variables, ensuring that \code{Sexo} (Sex) and \code{Edad} (Age) are presented first. The function processes each element in \code{summary_results} in the specified order.

For the numeric variable \code{Edad} (Age), the function retrieves the mean and standard deviation values, formats them as "mean (SD)", and appends them to \code{table_rows}. For each categorical variable, it first adds the variable name as a title and then iterates through its categories, extracting the count and percentage of each category. These values are appended as separate rows, creating a detailed breakdown for each variable.

Finally, the function converts \code{table_rows} into a matrix with three columns: "Variables sociodemográficas", "n", and "%". The matrix is then converted to a dataframe for easy viewing and manipulation. The output dataframe is structured to provide a clear overview of both numeric and categorical variables.
}

\value{
A dataframe with three columns: \code{"Variables sociodemográficas"}, \code{"n"}, and \code{"percentage"}
}

\examples{
# Example usage with a sample summary list

# Sample summary list (result of generate_summary)
summary_results <- list(
  Edad = data.frame(mean_Edad = 28.5, sd_Edad = 5.3),
  Sexo = data.frame(Sexo = c("M", "F"), n = c(4, 4), Porcentaje = c(50, 50)),
  Facultad = data.frame(
    Facultad = c("Psychology", "Law", "Medicine"),
    n = c(3, 2, 3),
    Porcentaje = c(37.5, 25, 37.5)
  )
)

# Generate formatted table
formatted_table <- generate_table(summary_results)

# View the formatted table
print(formatted_table)
}

\author{
Dr. José Ventura-León
}
