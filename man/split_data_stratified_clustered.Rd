% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/split_data_stratified_clustered.R
\name{split_data_stratified_clustered}
\alias{split_data_stratified_clustered}
\title{Split Data with Stratified Clustering}
\usage{
split_data_stratified_clustered(
  df,
  strat_var = "Region_reside",
  cluster_var = "Facultad",
  perc_exploratorio = 0.5,
  seed = NULL
)
}
\arguments{
\item{df}{Data frame to split.}

\item{strat_var}{Stratification variable name (default "Region_reside").}

\item{cluster_var}{Cluster variable name (default "Facultad").}

\item{perc_exploratorio}{Proportion for exploratory subset (default 0.5).}

\item{seed}{Random seed for reproducibility (default NULL).}
}
\value{
A list with exploratorio and confirmatorio data frames.
}
\description{
Splits a data frame using stratified and clustered sampling.
}
\examples{
\dontrun{
# Create sample data with stratification and clustering variables
set.seed(123)
data <- data.frame(
  ID = 1:500,
  Item1 = sample(1:5, 500, replace = TRUE),
  Item2 = sample(1:5, 500, replace = TRUE),
  Item3 = sample(1:5, 500, replace = TRUE),
  Region_reside = sample(c("Norte", "Sur", "Centro"), 500, replace = TRUE),
  Facultad = sample(c("Ingenieria", "Medicina", "Derecho"), 500, replace = TRUE)
)

# Split with stratification by Region and clustering by Facultad
splits <- split_data_stratified_clustered(
  df = data,
  strat_var = "Region_reside",
  cluster_var = "Facultad",
  perc_exploratorio = 0.5,
  seed = 123
)

# Access subsets
efa_data <- splits$exploratorio
cfa_data <- splits$confirmatorio

# Verify stratification is maintained
table(efa_data$Region_reside, efa_data$Facultad)
table(cfa_data$Region_reside, cfa_data$Facultad)

# Different proportions
splits2 <- split_data_stratified_clustered(
  df = data,
  strat_var = "Region_reside",
  cluster_var = "Facultad",
  perc_exploratorio = 0.6,
  seed = 456
)
}
}
